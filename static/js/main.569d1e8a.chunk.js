(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{108:function(e,t,n){e.exports={section:"modal-overlay_section__3xK6h"}},109:function(e,t,n){e.exports={section:"not-found_section__3VchC"}},110:function(e,t,n){e.exports={form:"user-profile_form__l8z7J"}},118:function(e,t,n){},12:function(e,t,n){e.exports={section:"ingredient-details_section__2I1Tp",image:"ingredient-details_image__2eLu1",list:"ingredient-details_list__D66OT",element:"ingredient-details_element__E9gYe",title:"ingredient-details_title__3TAdm",content:"ingredient-details_content__ytKhm"}},13:function(e,t,n){e.exports={section:"profile_section__5EMk7",nav:"profile_nav__2JjhX",link:"profile_link__3Z-Br",active:"profile_active__hFBcZ",color:"profile_color__2rIZO",flex:"profile_flex__1BLvB",scroll:"profile_scroll__18PWD"}},198:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(54),s=n.n(r),i=(n(118),n(5)),o=n(10),l=n(4),d=n(6),u=n(9),m=n.n(u),j=n(0);var _=function(){var e=Object(o.h)().pathname;return Object(j.jsxs)("header",{className:m.a.header,children:[Object(j.jsx)(d.c,{exact:!0,to:"/",className:"".concat(m.a.constructor1," pt-4 pb-4 mr-2"),activeClassName:m.a.active,children:Object(j.jsxs)("button",{className:m.a.button,children:[Object(j.jsx)("div",{className:"".concat(m.a.icon," ml-5 mr-2"),children:Object(j.jsx)(l.BurgerIcon,{type:"/"===e?"primary":"secondary"})}),Object(j.jsx)("p",{className:"/"===e?"".concat(m.a.text__button," text text_type_main-default mr-5 ").concat(m.a.active):"".concat(m.a.text__button," text text_type_main-default mr-5 text_color_inactive"),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(j.jsx)(d.c,{to:"/feed",className:"".concat(m.a.constructor2," pt-4 pb-4 mr-2"),activeClassName:m.a.active,children:Object(j.jsxs)("button",{className:m.a.button,children:[Object(j.jsx)("div",{className:"".concat(m.a.icon," ml-5 mr-2"),children:Object(j.jsx)(l.ListIcon,{type:"/feed"===e?"primary":"secondary"})}),Object(j.jsx)("p",{className:"/feed"===e?"".concat(m.a.text__button," text text_type_main-default mr-5 ").concat(m.a.active):"".concat(m.a.text__button," text text_type_main-default mr-5 text_color_inactive"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})}),Object(j.jsx)(d.c,{to:"/",className:"".concat(m.a.constructor3," mt-4 mb-4"),children:Object(j.jsx)(l.Logo,{})}),Object(j.jsx)(d.c,{to:"/profile",className:"".concat(m.a.constructor4," pt-4 pb-4"),activeClassName:m.a.active,children:Object(j.jsxs)("button",{className:m.a.button,children:[Object(j.jsx)("div",{className:"".concat(m.a.icon," ml-5 mr-2"),children:Object(j.jsx)(l.ProfileIcon,{type:"/profile"===e||"/profile/orders"===e?"primary":"secondary"})}),Object(j.jsx)("p",{className:"/profile"===e||"/profile/orders"===e?"".concat(m.a.text__button," text text_type_main-default mr-5 ").concat(m.a.active):"".concat(m.a.text__button," text text_type_main-default mr-5 text_color_inactive"),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})},b=n(2),p=n(38),x=n.n(p),O=n(24),f=n.n(O);function h(e,t,n){var c=(n=n||{}).expires;if("number"==typeof c&&c){var a=new Date;a.setTime(a.getTime()+1e3*c),c=n.expires=a}c&&c.toUTCString&&(n.expires=c.toUTCString()),t&&(t=encodeURIComponent(t));var r=e+"="+t;for(var s in n){r+="; "+s;var i=n[s];!0!==i&&(r+="="+i)}document.cookie=r}function g(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function y(e){var t=e.accessToken.split("Bearer ")[1],n=e.refreshToken;h("token",t,{}),localStorage.setItem("refreshToken",n)}function v(){localStorage.removeItem("refreshToken"),h("token",null,{expires:-1})}function N(e){var t=new Date(e),n="i-GMT".concat(t.getTimezoneOffset()/60<0?"+":"-").concat(Math.abs(t.getTimezoneOffset()/60)),c="".concat(t.getHours(),":").concat(t.getMinutes()),a="",r=(new Date).getTime()-t.getTime();switch(Math.round(r/864e5)){case 1:a="\u0412\u0447\u0435\u0440\u0430";break;case 2:a="\u041f\u043e\u0437\u0430\u0432\u0447\u0435\u0440\u0430";break;case 0:a="\u0421\u0435\u0433\u043e\u0434\u043d\u044f";break;case 3:a="\u041f\u043e\u0437\u0430\u043f\u043e\u0437\u0430\u0432\u0447\u0435\u0440\u0430";break;case 4:a="\u0427\u0435\u0442\u044b\u0440\u0435 \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434";break;case 5:a="\u041f\u044f\u0442\u044c \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434";break;case 6:a="\u0428\u0435\u0441\u0442\u044c \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434";break;case 7:a="\u041d\u0435\u0434\u0435\u043b\u044e \u043d\u0430\u0437\u0430\u0434";break;default:a="\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0434\u0435\u043b\u0438 \u043d\u0430\u0437\u0430\u0434"}return{timeDay:a,time:c,timeZone:n}}function E(e,t){var n={};t.forEach((function(e){n[e]?n[e]++:n[e]=1}));var c=[];Object.keys(n).forEach((function(t){var a=e.find((function(e){return e._id===t}));a&&(a.quantity=n[t],c.push(a))}));var a=0;return c.forEach((function(e){e.quantity&&(a+=e.quantity*e.price)})),{amount:a,resultArray:c}}var S,k="https://norma.nomoreparties.space/api",T=function(e){return e.ok?e.json():Promise.reject(e.status)},w="ORDER_REQUEST",C="ORDER_SUCCESS",R="ORDER_ERROR",I=function(e){return function(t){var n;t({type:w}),(n=e,fetch("".concat(k,"/orders"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(g("token"))},method:"POST",body:JSON.stringify({ingredients:n})}).then((function(e){return T(e)}))).then((function(e){e&&e.success?t({type:C,orders:e}):t({type:R})})).catch((function(e){t({type:R})}))}},D="GET_ITEMS_REQUEST",U="GET_ITEMS_SUCCESS",A="GET_ITEMS_ERROR",P=function(){return function(e){e({type:D}),fetch("".concat(k,"/ingredients"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return T(e)})).then((function(t){t&&t.success?(localStorage.setItem("burgerIngredients",JSON.stringify(t.data)),e({type:U,items:t.data})):e({type:A})})).catch((function(t){e({type:A})}))}},L="DELETE_ITEM",q="ADDED_ITEM",B="DELETE_ITEM_ON_INDEX",M="CHANGE_ORDER_INGREDIENT_IN_BURGER",F="CLEAR_CART",z="USER_REQUEST",G="USER_REGISTRATION_SUCCESS",W="USER_REGISTRATION_FAILED",J="USER_REQUEST_SUCCESS",Z="USER_REQUEST_FAILED",H="FORGOT_PASSWORD_REQUEST",K="FORGOT_PASSWORD_SUCCESS",Q="FORGOT_PASSWORD_FAILED",V="RESET_PASSWORD_REQUEST",Y="RESET_PASSWORD_SUCCESS",X="RESET_PASSWORD_FAILED",$="LOGOUT_REQUEST",ee="LOGOUT_SUCCESS",te="LOGOUT_FAILED",ne="UPDATE_USER_REQUEST",ce="UPDATE_USER_SUCCESS",ae="UPDATE_USER_FAILED",re="TOKEN_REQUEST",se="TOKEN_SUCCESS",ie="TOKEN_FAILED",oe=function(e){return function(t){t({type:z}),function(e){var t=e.email,n=e.password,c=e.name;return fetch("".concat(k,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,name:c})}).then((function(e){return T(e)}))}(e).then((function(e){e&&e.success?(y(e),t({type:G,user:e.user})):t({type:W})})).catch((function(e){t({type:W})}))}},le=function(e){return function(t){t({type:z}),function(e){var t=e.password,n=e.email;return fetch("".concat(k,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:n})}).then((function(e){return T(e)}))}(e).then((function(e){e&&e.success?(y(e),t({type:J,user:e.user})):(console.log("ssss"),t({type:Z}))})).catch((function(e){t({type:Z})}))}},de=function(e){return function(t){t({type:H}),function(e){var t=e.email;return fetch("".concat(k,"/password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}).then((function(e){return T(e)}))}(e).then((function(e){e&&e.success?t({type:K}):t({type:Q})})).catch((function(e){t({type:Q})}))}},ue=function(e){return function(t){t({type:V}),function(e){var t=e.password,n=e.token;return fetch("".concat(k,"/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,token:n})}).then((function(e){return T(e)}))}(e).then((function(e){e&&e.success?t({type:Y}):t({type:X})})).catch((function(e){t({type:X})}))}},me=function(e){return function(t){t({type:$}),fetch("".concat(k,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.refreshToken})}).then((function(e){return T(e)})).then((function(n){n&&n.success?(t({type:ee}),v(),e()):t({type:te})})).catch((function(e){t({type:te})}))}},je=function(){return function(e){e({type:re}),fetch("".concat(k,"/auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.refreshToken})}).then((function(e){return T(e)})).then((function(t){t&&t.success?(y(t),e({type:se})):e({type:ie})})).catch((function(t){e({type:ie})}))}},_e=function e(t){return function(n){n({type:ne}),console.log(t),function(e){var t=e.email,n=e.password,c=e.name;return fetch("".concat(k,"/auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(g("token"))},body:JSON.stringify({email:t,password:n,name:c})}).then((function(e){return T(e)}))}(t).then((function(e){e&&e.success?n({type:ce,user:e.user}):n({type:ae})})).catch((function(c){"jwt expired"===c.message||"Token is invalid"===c.message?(n(je()),n(e(t))):n({type:ae})}))}},be=function e(){return function(t){t({type:z}),fetch("".concat(k,"/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(g("token"))}}).then((function(e){return T(e)})).then((function(e){e&&e.success?t({type:J,user:e.user}):t({type:Z})})).catch((function(n){"jwt expired"===n.message||"Token is invalid"===n.message?(t(je()),t(e())):t({type:Z})}))}},pe=n(204),xe=n(205),Oe=n(45),fe=Oe.c,he=function(){return Object(Oe.b)()},ge=function(e){var t=e.data,n=e.isCart,c=e.isUp,a=e.index,r=Object(o.g)(),s=he(),d=fe((function(e){return e.cart.ingredients}));var u=Object(pe.a)({type:"sauce and main",item:{index:a},collect:function(e){return{isDrag:e.isDragging()}}}),m=Object(i.a)(u,2),_=m[0].isDrag,b=m[1],p=Object(xe.a)({accept:"sauce and main",drop:function(e){!function(e){for(var t=[],n=0;n<d.length;n++)t[n]=d[n];var c=d[e.index];a&&(e.index>a?(t.splice(a,0,c),t.splice(e.index+1,1)):e.index<a&&(t.splice(a+1,0,c),t.splice(e.index,1)));s({type:M,ingredients:t})}(e)},collect:function(e){return{isHover:e.isOver()}}}),x=Object(i.a)(p,2),O=x[0].isHover,h=x[1];var g=O?"1px solid lightgreen":"1px solid transparent";return _?Object(j.jsx)(j.Fragment,{children:'""'}):Object(j.jsxs)("section",{ref:"bun"===t.type?null:b,className:"".concat(f.a.section," mb-4 mr-2"),style:{border:g},children:["bun"===t.type?Object(j.jsx)("div",{className:"mr-8"}):Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(l.DragIcon,{type:"primary"})}),Object(j.jsxs)("div",{ref:"bun"===t.type?null:h,className:n?f.a.element_cart:c?f.a.element_up:f.a.element_down,children:[Object(j.jsxs)("div",{className:f.a.left,onClick:function(e){e.preventDefault(),r.push({pathname:"/ingredients/".concat(t._id),state:{background:{pathname:"/"}}})},children:[Object(j.jsx)("img",{className:"".concat(f.a.image," ml-6 mr-5"),src:t.image,alt:t.name}),Object(j.jsx)("p",{className:"".concat(f.a.name," text text_type_main-default mr-5"),children:t.name})]}),Object(j.jsxs)("div",{className:"".concat(f.a.right," pr-8"),children:[Object(j.jsxs)("div",{className:"".concat(f.a.price," mr-5"),children:[Object(j.jsx)("p",{className:"text text_type_digits-default",children:t.price}),Object(j.jsx)(l.CurrencyIcon,{type:"primary"})]}),"bun"===t.type?Object(j.jsx)(l.LockIcon,{type:"secondary"}):Object(j.jsx)(l.DeleteIcon,{type:"primary",onClick:function(){s({type:B,index:a})}})]})]})]})},ye=function(e){var t=e.onDropHandler,n=e.setIsOpenModalOrder,c=Object(o.g)(),r=Object(o.h)(),s=he(),d=fe((function(e){return e.cart.ingredients})),u=fe((function(e){return e.order.orderError})),m=fe((function(e){return e.user.isLoggedIn})),_=fe((function(e){return e.order.orderRequest})),p=a.a.useState(0),O=Object(i.a)(p,2),f=O[0],h=O[1],g=d.find((function(e){return"bun"===e.type})),y=a.a.useState(!1),v=Object(i.a)(y,2),N=v[0],E=v[1];a.a.useEffect((function(){0===d.length||_||!d.some((function(e){return"bun"===e.type}))?E(!0):E(!1)}),[d,_]),a.a.useEffect((function(){var e=0;d.forEach((function(t){"bun"!==t.type&&(e+=t.price)}));var t=d.find((function(e){return"bun"===e.type}));t&&(e+=2*t.price),h(e)}),[d]);var S=Object(xe.a)({accept:"ingredient",drop:function(e){t(e)},collect:function(e){return{isHover:e.isOver()}}}),k=Object(i.a)(S,2),T=k[0].isHover,w=k[1],C=T?"1px solid lightgreen":"1px solid transparent";return Object(j.jsxs)("section",{"data-test":"burgerConstructor",className:"".concat(x.a.section," mt-25 ml-4 mr-2 mb-10"),ref:w,style:{border:C},children:[g?Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(ge,{data:Object(b.a)(Object(b.a)({},g),{},{name:g.name+"\n(\u0432\u0435\u0440\u0445)"}),isCart:!1,isUp:!0})}):"",Object(j.jsx)("div",{className:x.a.scroll,children:d.map((function(e,t){return"bun"===e.type?"":Object(j.jsx)(ge,{data:e,index:t,isCart:!0},t)}))}),g?Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(ge,{data:Object(b.a)(Object(b.a)({},g),{},{name:g.name+"\n(\u043d\u0438\u0437)"}),isCart:!1,isUp:!1})}):"",Object(j.jsxs)("div",{className:"".concat(x.a.order," mt-6 mr-4"),children:[Object(j.jsxs)("div",{className:"".concat(x.a.price_order," mr-10"),children:[Object(j.jsx)("p",{className:"text text_type_digits-default ".concat(x.a.text_order),children:f}),Object(j.jsx)(l.CurrencyIcon,{type:"primary"})]}),Object(j.jsx)(l.Button,{disabled:N,type:"primary",size:"large",onClick:function(){var e=[];d.forEach((function(t){"bun"!==t.type||e.push(t._id),e.push(t._id)})),m?(s(I(e)),u||(s({type:F}),n(!0))):c.push({pathname:"/login",state:{from:r}})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},ve=n(28),Ne=n.n(ve),Ee=n(39),Se=n.n(Ee),ke=function(e){var t=e.data,n=Object(o.g)(),c=fe((function(e){return e.cart.ingredients})),r=a.a.useState(0),s=Object(i.a)(r,2),d=s[0],u=s[1],m=t._id;var _=Object(pe.a)({type:"ingredient",item:{_id:m},collect:function(e){return{isDrag:e.isDragging()}}}),b=Object(i.a)(_,2),p=b[0].isDrag,x=b[1];return a.a.useEffect((function(){var e={qty:0};c.forEach((function(n){n._id===t._id&&e.qty++})),"bun"===t.type?u(2*e.qty):u(e.qty)}),[c,t._id,t.type]),p?Object(j.jsx)(j.Fragment,{children:'""'}):Object(j.jsxs)("div",{onClick:function(){n.push({pathname:"/ingredients/".concat(t._id),state:{background:{pathname:"/"}}})},className:Se.a.card,ref:x,children:[Object(j.jsx)("img",{className:"".concat(Se.a.image," pl-4 pr-4 mb-1"),src:t.image,alt:t.name}),Object(j.jsxs)("div",{className:"".concat(Se.a.price," mb-1"),children:[Object(j.jsx)("p",{className:"".concat(Se.a.digits," text text_type_digits-default"),children:t.price}),Object(j.jsx)(l.CurrencyIcon,{type:"primary"})]}),Object(j.jsx)("p",{className:"".concat(Se.a.name," text text_type_main-default"),children:t.name}),Object(j.jsx)(l.Counter,{count:d,size:"default"})]})},Te=function(){var e=a.a.useState("one"),t=Object(i.a)(e,2),n=t[0],r=t[1],s=fe((function(e){return e.items.items}));a.a.useEffect((function(){var e=document.getElementById("box"),t=document.getElementById("one"),n=document.getElementById("two"),c=document.getElementById("three"),a=e.getBoundingClientRect();function s(){var e=t.getBoundingClientRect(),s=n.getBoundingClientRect(),i=c.getBoundingClientRect(),o=Math.abs(e.y-a.y),l=Math.abs(s.y-a.y),d=Math.abs(i.y-a.y);r(o<=l&&o<=d?"one":l<=o&&l<=d?"two":"three")}return e.addEventListener("scroll",s),function(){return e.removeEventListener("scroll",s)}}),[]);var o=Object(c.useRef)(null),d=Object(c.useRef)(null),u=Object(c.useRef)(null),m=function(e){var t,n,c;"one"===e&&(null===(t=o.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})),"two"===e&&(null===(n=d.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})),"three"===e&&(null===(c=u.current)||void 0===c||c.scrollIntoView({behavior:"smooth"}))};return Object(j.jsxs)("section",{className:"".concat(Ne.a.section," mr-10 mb-5"),children:[Object(j.jsx)("h1",{className:"".concat(Ne.a.title," mt-10 text text_type_main-large"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(j.jsxs)("nav",{className:"".concat(Ne.a.nav," mb-10"),children:[Object(j.jsx)(l.Tab,{value:"one",active:"one"===n,onClick:m,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(j.jsx)(l.Tab,{value:"two",active:"two"===n,onClick:m,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(j.jsx)(l.Tab,{value:"three",active:"three"===n,onClick:m,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(j.jsxs)("div",{className:Ne.a.scroll,id:"box",children:[Object(j.jsx)("h2",{className:"mb-6 text text_type_main-medium",id:"one",ref:o,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(j.jsx)("div",{className:"".concat(Ne.a.collection," mb-10 ml-4 mr-4"),children:s.map((function(e){return"bun"===e.type?Object(j.jsx)(ke,{data:e},e._id):""}))}),Object(j.jsx)("h2",{className:"mb-6 text text_type_main-medium",id:"two",ref:d,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(j.jsx)("div",{className:"".concat(Ne.a.collection," mb-10 ml-4 mr-4"),children:s.map((function(e){return"sauce"===e.type?Object(j.jsx)(ke,{data:e},e._id):""}))}),Object(j.jsx)("h2",{className:"mb-6 text text_type_main-medium",id:"three",ref:u,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(j.jsx)("div",{className:"".concat(Ne.a.collection," mb-10 ml-4 mr-4"),children:s.map((function(e){return"main"===e.type?Object(j.jsx)(ke,{data:e},e._id):""}))})]})]})},we=n(35),Ce=n.n(we),Re=function(){var e=fe((function(e){return e.order.orderNumber}));return Object(j.jsxs)("section",{className:"".concat(Ce.a.order," mt-4"),children:[Object(j.jsx)("h2",{className:"".concat(Ce.a.content," text text_type_digits-large mb-8"),children:e}),Object(j.jsx)("p",{className:"".concat(Ce.a.content," mb-15 text text_type_main-medium"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(j.jsx)("div",{className:Ce.a.image}),Object(j.jsx)("p",{className:"".concat(Ce.a.content," mt-15 text text_type_main-default"),children:'\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"'}),Object(j.jsx)("p",{className:"".concat(Ce.a.content," mt-2 mb-30 text text_type_main-default text_color_inactive"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},Ie=n(12),De=n.n(Ie),Ue=function(){var e=Object(o.i)().id,t=localStorage.getItem("burgerIngredients");if(t){var n=JSON.parse(t).find((function(t){return t._id===e}));return Object(j.jsxs)("section",{className:De.a.section,children:[Object(j.jsx)("img",{className:"".concat(De.a.image," mb-4"),src:n.image,alt:n.name}),Object(j.jsx)("h3",{className:"".concat(De.a.title," text text_type_main-medium mb-8"),children:n.name}),Object(j.jsxs)("ul",{className:"".concat(De.a.list," mb-15"),children:[Object(j.jsxs)("li",{className:"".concat(De.a.element," mr-5"),children:[Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_main-default text_color_inactive mb-2"),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_digits-default text_color_inactive"),children:n.calories})]}),Object(j.jsxs)("li",{className:"".concat(De.a.element," mr-5"),children:[Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_main-default text_color_inactive mb-2"),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_digits-default text_color_inactive"),children:n.proteins})]}),Object(j.jsxs)("li",{className:"".concat(De.a.element," mr-5"),children:[Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_main-default text_color_inactive mb-2"),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_digits-default text_color_inactive"),children:n.fat})]}),Object(j.jsxs)("li",{className:"".concat(De.a.element," mr-5"),children:[Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_main-default text_color_inactive mb-2"),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(j.jsx)("p",{className:"".concat(De.a.content," text text_type_digits-default text_color_inactive"),children:n.carbohydrates})]})]})]})}return Object(j.jsx)(j.Fragment,{})},Ae=n(81),Pe=n.n(Ae),Le=n(82),qe=n.n(Le),Be=n(108),Me=n.n(Be),Fe=function(e){var t=e.children,n=e.closeModal;return Object(j.jsx)("section",{className:Me.a.section,onClick:function(e){return e.currentTarget===e.target&&void n()},children:t})},ze=function(e){var t=e.title,n=e.children,c=e.closeModal;a.a.useEffect((function(){return document.addEventListener("keydown",r),function(){return document.removeEventListener("keydown",r)}}));function r(e){27===e.keyCode&&c()}return Object(j.jsx)(Fe,{closeModal:c,children:Object(j.jsxs)("section",{className:qe.a.section,children:[Object(j.jsxs)("div",{className:"".concat(qe.a.container," pl-10 pt-10 pr-10"),children:[Object(j.jsx)("h3",{className:"text text_type_main-large",children:t}),Object(j.jsx)("div",{className:"CloseIcon",children:Object(j.jsx)(l.CloseIcon,{type:"primary",onClick:function(){c()}})})]}),n]})})},Ge=n(203),We=n(112),Je=n(109),Ze=n.n(Je),He=function(){var e=Object(o.g)();return Object(j.jsxs)("section",{className:Ze.a.section,children:[Object(j.jsx)("h1",{className:"text text_type_main-default mb-6",children:"404"}),Object(j.jsx)("p",{className:"text text_type_main-default mb-6",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(j.jsx)(d.b,{to:"",onClick:function(){e.goBack()},className:"text text_type_main-default",children:"\u041d\u0430\u0437\u0430\u0434"})]})},Ke=n(19),Qe=n(29),Ve=n.n(Qe),Ye=function(){var e,t=he(),n=fe((function(e){return e.user.isLoggedIn})),c=Object(o.h)(),r=a.a.useState({email:"",password:""}),s=Object(i.a)(r,2),u=s[0],m=s[1],_=function(e){var t=e.target,n=t.name,c=t.value;m(Object(b.a)(Object(b.a)({},u),{},Object(Ke.a)({},n,c)))};return Object(j.jsx)(j.Fragment,{children:n?Object(j.jsx)(o.a,{to:(null===(e=c.state)||void 0===e?void 0:e.from)||"/"}):Object(j.jsxs)("section",{className:Ve.a.section,children:[Object(j.jsxs)("form",{className:Ve.a.form,onSubmit:function(e){e.preventDefault(),t(le(u))},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(j.jsx)(l.Input,{type:"email",placeholder:"E-mail",name:"email",value:u.email,onChange:_}),Object(j.jsx)(l.PasswordInput,{name:"password",value:u.password,onChange:_}),Object(j.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(j.jsxs)("div",{className:"".concat(Ve.a.links," mt-20"),children:[Object(j.jsxs)("div",{className:"".concat(Ve.a.link_container," mb-4"),children:[Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?\xa0"}),Object(j.jsx)(d.b,{className:"text text_type_main-default ".concat(Ve.a.link),to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("div",{className:Ve.a.link_container,children:[Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0"}),Object(j.jsx)(d.b,{className:"text text_type_main-default ".concat(Ve.a.link),to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})},Xe=n(46),$e=n.n(Xe),et=function(){var e,t=he(),n=fe((function(e){return e.user.isLoggedIn})),c=Object(o.h)(),r=a.a.useState({email:"",password:"",name:""}),s=Object(i.a)(r,2),u=s[0],m=s[1];if(n)return Object(j.jsx)(o.a,{to:(null===(e=c.state)||void 0===e?void 0:e.from)||"/"});var _=function(e){var t=e.target,n=t.name,c=t.value;m(Object(b.a)(Object(b.a)({},u),{},Object(Ke.a)({},n,c)))};return Object(j.jsxs)("section",{className:$e.a.section,children:[Object(j.jsxs)("form",{className:$e.a.form,onSubmit:function(e){e.preventDefault(),t(oe(u))},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",value:u.name,onChange:_}),Object(j.jsx)(l.Input,{type:"email",placeholder:"E-mail",name:"email",value:u.email,onChange:_}),Object(j.jsx)(l.PasswordInput,{name:"password",value:u.password,onChange:_}),Object(j.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("div",{className:"".concat($e.a.link_container," mt-20"),children:[Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0"}),Object(j.jsx)(d.b,{className:"".concat($e.a.link," text text_type_main-default"),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},tt=n(47),nt=n.n(tt),ct=function(){var e,t=he(),n=fe((function(e){return e.user.isLoggedIn})),c=fe((function(e){return e.user.isForgotPassword})),r=Object(o.h)(),s=a.a.useState({email:""}),u=Object(i.a)(s,2),m=u[0],_=u[1];if(n)return Object(j.jsx)(o.a,{to:(null===(e=r.state)||void 0===e?void 0:e.from)||"/"});if(!n&&c)return Object(j.jsx)(o.a,{to:"/reset-password"});return Object(j.jsxs)("section",{className:nt.a.section,children:[Object(j.jsxs)("form",{className:nt.a.form,onSubmit:function(e){e.preventDefault(),t(de(m))},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(j.jsx)(l.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",name:"email",value:m.email,onChange:function(e){var t=e.target,n=t.name,c=t.value;_(Object(b.a)(Object(b.a)({},m),{},Object(Ke.a)({},n,c)))}}),Object(j.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(j.jsxs)("div",{className:"".concat(nt.a.link_container," mt-20"),children:[Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0"}),Object(j.jsx)(d.b,{className:"".concat(nt.a.link," text text_type_main-default"),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},at=n(48),rt=n.n(at),st=function(){var e=he(),t=fe((function(e){return e.user.isForgotPassword})),n=fe((function(e){return e.user.isResetPassword})),c=a.a.useState({password:"",token:""}),r=Object(i.a)(c,2),s=r[0],u=r[1];if(n)return Object(j.jsx)(o.a,{to:"/login"});if(!t&&!n)return Object(j.jsx)(o.a,{to:"/forgot-password"});var m=function(e){var t=e.target,n=t.name,c=t.value;u(Object(b.a)(Object(b.a)({},s),{},Object(Ke.a)({},n,c)))};return Object(j.jsxs)("section",{className:rt.a.section,children:[Object(j.jsxs)("form",{className:rt.a.form,onSubmit:function(t){t.preventDefault(),e(ue(s))},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(j.jsx)(l.PasswordInput,{name:"password",value:s.password,onChange:m,size:"default"}),Object(j.jsx)(l.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"token",value:s.token,onChange:m,size:"default"}),Object(j.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(j.jsxs)("div",{className:"".concat(rt.a.link_container," mt-20"),children:[Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0"}),Object(j.jsx)(d.b,{className:"".concat(rt.a.link," text text_type_main-default"),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},it=n(13),ot=n.n(it),lt=n(110),dt=n.n(lt),ut=function(){var e=he(),t=fe((function(e){return e.user})),n=a.a.useState(!1),c=Object(i.a)(n,2),r=c[0],s=c[1],o=a.a.useState({email:"",password:"",name:""}),d=Object(i.a)(o,2),u=d[0],m=d[1],_=function(e){var t=e.target,n=t.name,c=t.value;m(Object(b.a)(Object(b.a)({},u),{},Object(Ke.a)({},n,c)))};return a.a.useEffect((function(){u.email!==t.email||""!==u.password||u.name!==t.name?s(!0):s(!1)}),[u,t]),a.a.useEffect((function(){m({email:t.email,password:"",name:t.name})}),[t]),Object(j.jsxs)("form",{className:dt.a.form,onSubmit:function(t){t.preventDefault(),e(_e(u))},children:[Object(j.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",value:u.name,onChange:_,icon:"EditIcon"}),Object(j.jsx)(l.Input,{type:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"email",value:u.email,onChange:_,icon:"EditIcon"}),Object(j.jsx)(l.PasswordInput,{name:"password",value:u.password,onChange:_}),r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.Button,{type:"secondary",size:"medium",onClick:function(e){e.preventDefault(),m({email:t.email,password:"",name:t.name})},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(j.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):""]})},mt=n(30),jt=n.n(mt),_t=function(e){var t=e.order,n=fe((function(e){return e.items.items})),c=a.a.useState(""),r=Object(i.a)(c,2),s=r[0],o=r[1],u=a.a.useState(""),m=Object(i.a)(u,2),_=m[0],b=m[1],p=a.a.useState(""),x=Object(i.a)(p,2),O=x[0],f=x[1],h=a.a.useState(0),g=Object(i.a)(h,2),y=g[0],v=g[1],S=a.a.useState([]),k=Object(i.a)(S,2),T=k[0],w=k[1],C=a.a.useState(""),R=Object(i.a)(C,2),I=R[0],D=R[1];return a.a.useEffect((function(){var e=N(t.createdAt);o(e.timeZone),b(e.time),f(e.timeDay);var c=E(n,t.ingredients);switch(c.resultArray.length>5?w(c.resultArray.slice(0,5)):w(c.resultArray),v(c.amount),t.status){case"done":D("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d");break;case"created":D("\u0421\u043e\u0437\u0434\u0430\u043d");break;case"pending":D("\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f");break;case"cancelled":D("\u041e\u0442\u043c\u0435\u043d\u0435\u043d");break;default:D("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e")}}),[]),Object(j.jsx)(d.b,{className:jt.a.link,to:{pathname:"/profile/orders/".concat(t._id),state:{background:{pathname:"/profile/orders"}}},children:Object(j.jsxs)("section",{className:jt.a.section,children:[Object(j.jsxs)("div",{className:jt.a.top,children:[Object(j.jsxs)("p",{className:"text text_type_digits-default",children:["#",t.number]}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:[O,", ",_," ",s]})]}),Object(j.jsx)("p",{className:"text text_type_main-medium mb-2 mt-6 pr-6 pl-6",children:t.name}),Object(j.jsx)("p",{className:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"===I?"text text_type_main-small mb-6 text_color_success pr-6 pl-6":"text text_type_main-small mb-6 pr-6 pl-6",children:I}),Object(j.jsxs)("div",{className:jt.a.bottom,children:[Object(j.jsx)("div",{className:jt.a.images,children:T.map((function(e,t){return Object(j.jsx)("img",{className:"".concat(jt.a.image," ml-6 mr-5"),src:e.image,alt:e.name},t)}))}),Object(j.jsxs)("div",{className:jt.a.price,children:[Object(j.jsx)("p",{className:"text text_type_digits-default mr-2",children:y}),Object(j.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})})},bt="WS_CONNECTION_START",pt="WS_CONNECTION_SUCCESS",xt="WS_CONNECTION_ERROR",Ot="WS_CONNECTION_CLOSED",ft="WS_GET_MESSAGE",ht={wsInit:function(e){return{type:bt,payload:{url:e}}},onOpen:{type:pt},onClose:{type:Ot},onError:{type:xt},onMessage:function(e){return{type:ft,payload:e}}},gt="wss://norma.nomoreparties.space/orders",yt=function(){var e=Object(o.h)().pathname,t=Object(o.g)(),n=he(),c=g("token");a.a.useEffect((function(){return n({type:bt,payload:{url:"".concat(gt,"?token=").concat(c)}}),function(){n({type:Ot})}}),[n,c]);var r=fe((function(e){return e.socket.messages})).orders;return Object(j.jsx)("section",{className:ot.a.section,children:Object(j.jsxs)("div",{className:ot.a.flex,children:[Object(j.jsxs)("nav",{className:"".concat(ot.a.nav," mr-15 mb-20"),children:[Object(j.jsx)(d.c,{exact:!0,to:"/profile",className:"/profile"===e?"".concat(ot.a.link," text text_type_main-medium ").concat(ot.a.active):"".concat(ot.a.link," text text_type_main-medium ").concat(ot.a.color),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(j.jsx)(d.c,{exact:!0,to:"/profile/orders",className:"/profile/orders"===e?"".concat(ot.a.link," text text_type_main-medium ").concat(ot.a.active):"".concat(ot.a.link," text text_type_main-medium ").concat(ot.a.color),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(j.jsx)("nav",{onClick:function(e){e.preventDefault(),n(me((function(){t.push("/login")})))},className:"".concat(ot.a.link," text text_type_main-medium ").concat(ot.a.color),children:"\u0412\u044b\u0445\u043e\u0434"})]}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/profile",exact:!0,children:Object(j.jsx)(ut,{})}),Object(j.jsx)(o.b,{path:"/profile/orders",exact:!0,children:Object(j.jsx)("div",{className:ot.a.scroll,children:r?r.map((function(e){return Object(j.jsx)(_t,{order:e},e._id)})):""})})]})]})})},vt=n(59),Nt=["children"],Et=function(e){var t=e.children,n=Object(vt.a)(e,Nt),c=fe((function(e){return e.user.isLoggedIn}));return Object(j.jsx)(o.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){var n=e.location;return c?t:Object(j.jsx)(o.a,{to:{pathname:"/login",state:{from:n}}})}}))},St=n(83),kt=n.n(St),Tt=function(){return Object(j.jsxs)("section",{className:kt.a.section,children:[Object(j.jsx)("h1",{className:"".concat(kt.a.text_title," text text_type_main-large"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(j.jsx)(Ue,{})]})},wt=n(31),Ct=n.n(wt),Rt=function(e){var t=e.order,n=fe((function(e){return e.items.items})),c=a.a.useState(""),r=Object(i.a)(c,2),s=r[0],o=r[1],u=a.a.useState(""),m=Object(i.a)(u,2),_=m[0],b=m[1],p=a.a.useState(""),x=Object(i.a)(p,2),O=x[0],f=x[1],h=a.a.useState(0),g=Object(i.a)(h,2),y=g[0],v=g[1],S=a.a.useState([]),k=Object(i.a)(S,2),T=k[0],w=k[1];return a.a.useEffect((function(){var e=N(t.createdAt);o(e.timeZone),b(e.time),f(e.timeDay);var c=E(n,t.ingredients);c.resultArray.length>5?w(c.resultArray.slice(0,5)):w(c.resultArray),v(c.amount)}),[]),Object(j.jsx)(d.b,{className:Ct.a.link,to:{pathname:"/feed/".concat(t._id),state:{background:{pathname:"/feed"}}},children:Object(j.jsxs)("section",{className:Ct.a.section,children:[Object(j.jsxs)("div",{className:Ct.a.top,children:[Object(j.jsxs)("p",{className:"text text_type_digits-default",children:["#",t.number]}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:[O,", ",_," ",s]})]}),Object(j.jsx)("p",{className:"text text_type_main-medium mb-6 mt-6 pr-6 pl-6",children:t.name}),Object(j.jsxs)("div",{className:Ct.a.bottom,children:[Object(j.jsx)("div",{className:Ct.a.images,children:T.map((function(e,t){return Object(j.jsx)("img",{className:"".concat(Ct.a.image," ml-6 mr-5"),src:e.image,alt:e.name},t)}))}),Object(j.jsxs)("div",{className:Ct.a.price,children:[Object(j.jsx)("p",{className:"text text_type_digits-default mr-2",children:y}),Object(j.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})})},It=n(23),Dt=n.n(It),Ut=function(){var e=he();a.a.useEffect((function(){return e({type:bt,payload:{url:"".concat(gt,"/all")}}),function(){e({type:Ot})}}),[e]);var t=fe((function(e){return e.socket.messages})),n=t.orders,c=t.total,r=t.totalToday,s=a.a.useState([]),o=Object(i.a)(s,2),l=o[0],d=o[1],u=a.a.useState([]),m=Object(i.a)(u,2),_=m[0],b=m[1];return a.a.useEffect((function(){var e=[],t=[];n.forEach((function(n){"done"===n.status?e.push(n):"pending"===n.status&&t.push(n)}));var c=e.sort((function(e,t){return e.number-t.number})),a=t.sort((function(e,t){return e.number-t.number}));d(c.slice(0,10)),b(a.slice(0,10))}),[n]),Object(j.jsxs)("section",{className:Dt.a.content,children:[Object(j.jsxs)("div",{className:"".concat(Dt.a.section," mr-15"),children:[Object(j.jsx)("h1",{className:"".concat(Dt.a.title," mt-10 mb-1 text text_type_main-large"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(j.jsx)("div",{className:Dt.a.scroll,children:n.map((function(e,t){return Object(j.jsx)(Rt,{order:e},e._id)}))})]}),Object(j.jsxs)("div",{className:Dt.a.content2,children:[Object(j.jsxs)("div",{className:Dt.a.ordersNumbers,children:[Object(j.jsxs)("div",{className:Dt.a.orders,children:[Object(j.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(j.jsx)("div",{className:Dt.a.orders,children:l.map((function(e){return Object(j.jsx)("p",{className:"text text_type_digits-default mt-2 text_color_success",children:e.number},e._id)}))})]}),Object(j.jsxs)("div",{className:Dt.a.orders,children:[Object(j.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(j.jsx)("div",{className:Dt.a.orders,children:_.map((function(e){return Object(j.jsx)("p",{className:"text text_type_digits-default mt-2",children:e.number},e._id)}))})]})]}),Object(j.jsx)("p",{className:"text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(j.jsx)("p",{className:"text text_type_digits-large",children:c}),Object(j.jsx)("p",{className:"text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(j.jsx)("p",{className:"text text_type_digits-large",children:r})]})]})},At=n(25),Pt=n.n(At),Lt=function(){var e=Object(o.i)().id,t=he(),n=fe((function(e){return e.socket.messages})).orders,c=fe((function(e){return e.socket})).wsConnected;a.a.useEffect((function(){return t({type:bt,payload:{url:"".concat(gt,"/all")}}),function(){t({type:Ot})}}),[t]);var r=fe((function(e){return e.items.items})),s="",i=[],d={time:"",timeDay:"",timeZone:""},u=0,m={_id:"",ingredients:[],status:"",name:"",createdAt:"",updatedAt:"",number:0};if(n&&c&&r){var _=n.find((function(t){return t._id===e}));if(_){var b=E(r,(m=_).ingredients);d=N(m.createdAt);var p=m.status;switch(i=b.resultArray,u=b.amount,p){case"done":s="\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";break;case"created":s="\u0421\u043e\u0437\u0434\u0430\u043d";break;case"pending":s="\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f";break;case"cancelled":s="\u041e\u0442\u043c\u0435\u043d\u0435\u043d";break;default:s="\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}}return Object(j.jsx)("section",{className:Pt.a.section,children:n&&c&&r&&Object(j.jsxs)("div",{className:Pt.a.content,children:[Object(j.jsxs)("p",{className:"text text_type_digits-default mb-10",children:["#",m.number]}),Object(j.jsx)("h3",{className:"text text_type_main-medium mb-3",children:m.name}),Object(j.jsx)("p",{className:"text text_type_main-small mb-15 text_color_success",children:s}),Object(j.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432: "}),Object(j.jsx)("div",{className:Pt.a.ingredients,children:i.map((function(e,t){return Object(j.jsxs)("div",{className:Pt.a.ingredient,children:[Object(j.jsxs)("div",{className:Pt.a.leftPart,children:[Object(j.jsx)("img",{className:"".concat(Pt.a.image," ml-6 mr-5"),src:e.image,alt:e.name}),Object(j.jsx)("p",{children:e.name})]}),Object(j.jsxs)("div",{className:Pt.a.rightPart,children:[Object(j.jsxs)("p",{className:"text text_type_digits-default mr-2 ml-4",children:[e.quantity," x ",e.price]}),Object(j.jsx)(l.CurrencyIcon,{type:"primary"})]})]},t)}))}),Object(j.jsxs)("div",{className:Pt.a.date,children:[Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:[d.timeDay,", ",d.time," ",d.timeZone]}),Object(j.jsxs)("div",{className:Pt.a.price,children:[Object(j.jsx)("p",{className:"text text_type_digits-default mr-2",children:u}),Object(j.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})})},qt=function(){var e,t=Object(o.h)(),n=Object(o.g)(),c=fe((function(e){return e.items.isLoading})),r=a.a.useState(!1),s=Object(i.a)(r,2),l=s[0],d=s[1],u=fe((function(e){return e.items.items})),m=fe((function(e){return e.cart.ingredients})),b=fe((function(e){return e.user.tokenSuccess})),p=he();a.a.useEffect((function(){t.state&&(t.state=void 0)}),[]),a.a.useEffect((function(){p(P())}),[p]);var x=Boolean(localStorage.getItem("refreshToken"));a.a.useEffect((function(){x&&p(je())}),[p,x]),a.a.useEffect((function(){b&&p(be())}),[p,b]);var O=null===(e=t.state)||void 0===e?void 0:e.background;return Object(j.jsxs)("div",{className:Pe.a.app,children:[Object(j.jsx)(_,{}),Object(j.jsxs)(o.d,{location:O||t,children:[Object(j.jsx)(o.b,{path:"/",exact:!0,children:c?Object(j.jsx)("main",{className:Pe.a.content,children:Object(j.jsxs)(Ge.a,{backend:We.a,children:[Object(j.jsx)(Te,{}),Object(j.jsx)(ye,{onDropHandler:function(e){var t=e._id,n=u.find((function(e){return e._id===t}));if(n)if("bun"===n.type){var c=m.find((function(e){return"bun"===e.type}));c?(p({type:L,id:c._id}),p({type:q,item:n})):p({type:q,item:n})}else p({type:q,item:n})},setIsOpenModalOrder:d})]})}):""}),Object(j.jsx)(o.b,{path:"/login",exact:!0,children:Object(j.jsx)(Ye,{})}),Object(j.jsx)(o.b,{path:"/register",exact:!0,children:Object(j.jsx)(et,{})}),Object(j.jsx)(o.b,{path:"/forgot-password",exact:!0,children:Object(j.jsx)(ct,{})}),Object(j.jsx)(o.b,{path:"/reset-password",exact:!0,children:Object(j.jsx)(st,{})}),Object(j.jsx)(Et,{path:"/profile/orders/:id",exact:!0,children:Object(j.jsx)(Lt,{})}),Object(j.jsx)(Et,{path:"/profile",exact:!1,children:Object(j.jsx)(yt,{})}),Object(j.jsx)(o.b,{path:"/ingredients/:id",exact:!0,children:Object(j.jsx)(Tt,{})}),Object(j.jsx)(o.b,{path:"/feed",exact:!0,children:Object(j.jsx)(Ut,{})}),Object(j.jsx)(o.b,{path:"/feed/:id",exact:!0,children:Object(j.jsx)(Lt,{})}),Object(j.jsx)(o.b,{path:"*",children:Object(j.jsx)(He,{})})]}),O&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(o.b,{path:"/ingredients/:id",exact:!0,children:Object(j.jsx)(ze,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",closeModal:function(){n.push("/")},children:Object(j.jsx)(Ue,{})})}),Object(j.jsx)(o.b,{path:"/feed/:id",exact:!0,children:Object(j.jsx)(ze,{title:"",closeModal:function(){n.push("/feed")},children:Object(j.jsx)(Lt,{})})}),Object(j.jsx)(Et,{path:"/profile/orders/:id",exact:!0,children:Object(j.jsx)(ze,{title:"",closeModal:function(){n.push("/profile/orders")},children:Object(j.jsx)(Lt,{})})})]}),l?Object(j.jsx)(ze,{title:"",closeModal:function(){d(!1)},children:Object(j.jsx)(Re,{})}):""]})},Bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},Mt=n(27),Ft=n(111),zt=["success"],Gt=n(60),Wt={ingredients:[]},Jt={items:[],isLoading:!1,itemsError:!1},Zt={orderNumber:0,orderName:"",orderRequest:!1,orderError:!1},Ht={name:"",email:"",userRequest:!1,isLoggedIn:!1,passwordRequest:!1,isForgotPassword:!1,resetPasswordRequest:!1,isResetPassword:!0,logoutRequest:!1,logoutFailed:!1,updateUserRequest:!1,updateUserSuccess:!1,tokenRequest:!1,tokenSuccess:!1},Kt={wsConnected:!1,messages:{success:!1,orders:[],total:0,totalToday:0}},Qt=Object(Mt.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1});case U:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0,itemsError:!1,items:t.items});case A:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,itemsError:!0});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(b.a)(Object(b.a)({},e),{},{ingredients:[].concat(Object(Gt.a)(e.ingredients),[t.item])});case L:return Object(b.a)(Object(b.a)({},e),{},{ingredients:Object(Gt.a)(e.ingredients).filter((function(e){return e._id!==t.id}))});case B:return Object(b.a)(Object(b.a)({},e),{},{ingredients:Object(Gt.a)(e.ingredients).filter((function(e,n){return n!==t.index}))});case M:return Object(b.a)(Object(b.a)({},e),{},{ingredients:t.ingredients});case F:return Object(b.a)(Object(b.a)({},e),{},{ingredients:[]});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(b.a)(Object(b.a)({},e),{},{orderRequest:!0,orderError:!1});case C:return Object(b.a)(Object(b.a)({},e),{},{orderRequest:!1,orderError:!1,orderNumber:t.orders.order.number,orderName:t.orders.name});case R:return Object(b.a)(Object(b.a)({},e),{},{orderRequest:!1,orderError:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(b.a)(Object(b.a)({},e),{},{userRequest:!0});case G:case J:return Object(b.a)(Object(b.a)({},e),{},{userRequest:!1,name:t.user.name,email:t.user.email,isLoggedIn:!0});case W:case Z:return Object(b.a)(Object(b.a)({},e),{},{userRequest:!1,isLoggedIn:!1,email:"",name:""});case H:return Object(b.a)(Object(b.a)({},e),{},{passwordRequest:!0,isResetPassword:!1});case K:return Object(b.a)(Object(b.a)({},e),{},{passwordRequest:!1,isForgotPassword:!0});case Q:return Object(b.a)(Object(b.a)({},e),{},{passwordRequest:!1});case V:return Object(b.a)(Object(b.a)({},e),{},{resetPasswordRequest:!0});case Y:return Object(b.a)(Object(b.a)({},e),{},{resetPasswordRequest:!1,isResetPassword:!0,isForgotPassword:!1});case X:return Object(b.a)(Object(b.a)({},e),{},{resetPasswordRequest:!1});case $:return Object(b.a)(Object(b.a)({},e),{},{logoutRequest:!0,logoutFailed:!1});case ee:return Object(b.a)(Object(b.a)({},e),{},{email:"",name:"",logoutRequest:!1,logoutFailed:!1,isLoggedIn:!1});case te:return Object(b.a)(Object(b.a)({},e),{},{logoutRequest:!1,logoutFailed:!0});case ne:return Object(b.a)(Object(b.a)({},e),{},{updateUserRequest:!0,updateUserSuccess:!1});case ce:return Object(b.a)(Object(b.a)({},e),{},{updateUserRequest:!1,updateUserSuccess:!0,name:t.user.name,email:t.user.email});case ae:return Object(b.a)(Object(b.a)({},e),{},{updateUserRequest:!1,updateUserSuccess:!1});case re:return Object(b.a)(Object(b.a)({},e),{},{tokenRequest:!0,tokenSuccess:!1});case se:return Object(b.a)(Object(b.a)({},e),{},{tokenRequest:!1,tokenSuccess:!0});case ie:return Object(b.a)(Object(b.a)({},e),{},{tokenRequest:!1,tokenSuccess:!1});default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(b.a)(Object(b.a)({},e),{},{error:void 0,wsConnected:!0});case xt:return Object(b.a)(Object(b.a)({},e),{},{wsConnected:!1});case Ot:return Object(b.a)(Object(b.a)({},e),{},{error:void 0,wsConnected:!1});case ft:return Object(b.a)(Object(b.a)({},e),{},{error:void 0,messages:t.payload});default:return e}}}),Vt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Mt.c)(Object(Mt.a)((S=ht,function(e){var t=null;return function(n){return function(c){var a=e.dispatch,r=c.type,s=S.wsInit,i=S.onOpen,o=S.onClose,l=S.onError,d=S.onMessage;if(r===s("someUrl").type){var u=c.payload;t=new WebSocket(u.url)}t&&(t.onopen=function(e){a(i)},t.onerror=function(e){a(l)},t.onmessage=function(e){var t=e.data,n=JSON.parse(t),c=(n.success,Object(vt.a)(n,zt));a(d(c))},t.onclose=function(e){a(o)}),n(c)}}}),Ft.a)),Yt=Object(Mt.d)(Qt,Vt);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Oe.a,{store:Yt,children:Object(j.jsx)(d.a,{children:Object(j.jsx)(qt,{})})})}),document.getElementById("root")),Bt()},23:function(e,t,n){e.exports={content:"feed_content__1W7KJ",section:"feed_section__koImK",title:"feed_title__2FcEY",scroll:"feed_scroll__3moo2",content2:"feed_content2__3pugG",ordersNumbers:"feed_ordersNumbers__121Yi",orders:"feed_orders__3xAh4"}},24:function(e,t,n){e.exports={section:"list-item_section__2Bd3U",element_cart:"list-item_element_cart__1Nsf6",element_up:"list-item_element_up__gtP3W",element_down:"list-item_element_down__3Mucx",image:"list-item_image__3OSmm",name:"list-item_name__TEf2A",price:"list-item_price__2SrTw",left:"list-item_left__13T8-",right:"list-item_right__1v-al"}},25:function(e,t,n){e.exports={section:"order_section__3VNE8",content:"order_content__2_GdB",date:"order_date__12s7B",price:"order_price__171JI",ingredients:"order_ingredients__2OiKi",image:"order_image__1AYNa",ingredient:"order_ingredient__1ALVw",rightPart:"order_rightPart__1-ZkN",leftPart:"order_leftPart__3PiHl"}},28:function(e,t,n){e.exports={section:"burger-ingredients_section__-Ak06",nav:"burger-ingredients_nav__2iMmn",title:"burger-ingredients_title__3_AuH",scroll:"burger-ingredients_scroll__2foWA",collection:"burger-ingredients_collection__2Q5S8"}},29:function(e,t,n){e.exports={section:"login_section__1rAvM",form:"login_form__1Z1JL",links:"login_links__z3q6O",link_container:"login_link_container__2LrnI",link:"login_link__11l5X"}},30:function(e,t,n){e.exports={section:"order-in-profile_section__z1o7o",top:"order-in-profile_top__2_TEi",images:"order-in-profile_images__2rZb2",bottom:"order-in-profile_bottom__1WsUd",price:"order-in-profile_price__WiK5j",image:"order-in-profile_image__3Td64",link:"order-in-profile_link__3r246"}},31:function(e,t,n){e.exports={section:"order-in-feed_section__3F9No",top:"order-in-feed_top__2kZaV",images:"order-in-feed_images__1wWz3",bottom:"order-in-feed_bottom__1zYd_",price:"order-in-feed_price__NKT20",image:"order-in-feed_image__3z_Bo",link:"order-in-feed_link__1FA1X"}},35:function(e,t,n){e.exports={order:"order-details_order__1T4bZ",content:"order-details_content__3P2OD",image:"order-details_image__1O7_p"}},38:function(e,t,n){e.exports={section:"burger-constructor_section__1iZjT",order:"burger-constructor_order__3WHwv",price_order:"burger-constructor_price_order__1tIib",text_order:"burger-constructor_text_order__1fduo",scroll:"burger-constructor_scroll__2FnzC"}},39:function(e,t,n){e.exports={card:"ingredient_card__3TMuS",image:"ingredient_image__VqNcc",price:"ingredient_price__1PqMC",digits:"ingredient_digits__2ypwx",name:"ingredient_name__1WJoB"}},46:function(e,t,n){e.exports={section:"register_section__UrNTU",form:"register_form__N8v6m",link_container:"register_link_container__16Oi6",link:"register_link__1SmYw"}},47:function(e,t,n){e.exports={section:"forgot-password_section__z8ZOl",form:"forgot-password_form__2-_0O",link_container:"forgot-password_link_container__k3H-Z",link:"forgot-password_link__16m9O"}},48:function(e,t,n){e.exports={section:"reset-password_section__3vD6e",form:"reset-password_form__1N4RW",link_container:"reset-password_link_container__3oha-",link:"reset-password_link__tCIwM"}},81:function(e,t,n){e.exports={app:"app_app__Dh_2U",content:"app_content__3iYF8"}},82:function(e,t,n){e.exports={section:"modal_section__3eTNG",container:"modal_container__eODvu"}},83:function(e,t,n){e.exports={section:"ingredient_section__194xx",text_title:"ingredient_text_title__-0-Mg"}},9:function(e,t,n){e.exports={header:"app-header_header__1iUxP",constructor1:"app-header_constructor1__YZKT_",constructor2:"app-header_constructor2__3YIpw",constructor3:"app-header_constructor3__ykbZY",constructor4:"app-header_constructor4__DRmA1",text__button:"app-header_text__button__2UrBi",button:"app-header_button__2O8An",icon:"app-header_icon__11DRp",active:"app-header_active__1Bkcp"}}},[[198,1,2]]]);
//# sourceMappingURL=main.569d1e8a.chunk.js.map